<!DOCTYPE html>
<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6"></script>
<html><body>
<!--style>
body { display: flex; flex-wrap: wrap; justify-content: space-evenly; }
div { flex-basis: 45%; margin-top: 20px; }
</style-->
<div id="myplot"></div>
<div id="bar"></div>
<script type=module>
    var mydata = [
{ Test:"nginx", R:50000, rps:49952.01, l:24.08 },
{ Test:"nginx", R:100000, rps:99907.03, l:85.12 },
{ Test:"nginx", R:150000, rps:148545.40, l:126.97 },
{ Test:"nginx", R:200000, rps:198562.39, l:114.18 },
{ Test:"nginx", R:250000, rps:249507.97, l:1050 },
{ Test:"nginx", R:300000, rps:294664.00, l:1970 },
{ Test:"nginx", R:350000, rps:295572.07, l:15200 },
{ Test:"nginx", R:400000, rps:315358.42, l:20020 },
{ Test:"nginx", R:450000, rps:324550.05, l:25460 },
{ Test:"nginx", R:500000, rps:321291.44, l:25330 },
{ Test:"nginx", R:550000, rps:308258.89, l:23070 },
    ];


    const plot = Plot.plot({
      marginTop:    30, marginRight:  30, marginBottom: 40, marginLeft:   50,

      color: {legend: true, domain: ["nginx"], range: ["orange", "darkblue", "darkgreen"]},
      grid: true,
      x: {label: "RPS (x1000)"},
      y: {label: "Latency"},
      inset: 10,

      marks: [
        Plot.ruleY([0]),
        Plot.lineY(mydata, {x: "rps", y: "l", stroke: "Test"}),
        Plot.dot(mydata, {x: "rps", y: "l", r: 2, fill: "#000", stroke: "Test"}),
      ]
    })

    const div = document.querySelector("#myplot");
    div.append(plot);

</script></body></body></html>