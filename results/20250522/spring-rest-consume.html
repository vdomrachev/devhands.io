<!DOCTYPE html>
<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6"></script>
<html><body>
<!--style>
body { display: flex; flex-wrap: wrap; justify-content: space-evenly; }
div { flex-basis: 45%; margin-top: 20px; }
</style-->
<div id="myplot"></div>
<div id="bar"></div>
<script type=module>
    var mydata = [
{ Test:"spring-rest-consume", R:10, rps:12.74, l:430.85 },
{ Test:"spring-rest-consume", R:20, rps:22.30, l:485.38 },
{ Test:"spring-rest-consume", R:30, rps:31.85, l:813.05 },
{ Test:"spring-rest-consume", R:40, rps:41.41, l:495.1 },
{ Test:"spring-rest-consume", R:50, rps:50.97, l:377.86 },
{ Test:"spring-rest-consume", R:60, rps:60.53, l:501.76 },
{ Test:"spring-rest-consume", R:70, rps:70.09, l:659.46 },
{ Test:"spring-rest-consume", R:80, rps:79.93, l:657.92 },
{ Test:"spring-rest-consume", R:90, rps:89.13, l:689.66 },
{ Test:"spring-rest-consume", R:100, rps:99.40, l:645.12 },
{ Test:"spring-rest-consume", R:110, rps:109.17, l:666.11 },
{ Test:"spring-rest-consume", R:120, rps:119.05, l:681.98 },
{ Test:"spring-rest-consume", R:130, rps:129.40, l:649.22 },
{ Test:"spring-rest-consume", R:140, rps:139.44, l:659.97 },
{ Test:"spring-rest-consume", R:150, rps:149.76, l:679.42 },
{ Test:"spring-rest-consume", R:160, rps:158.36, l:654.34 },
{ Test:"spring-rest-consume", R:170, rps:167.26, l:625.15 },
{ Test:"spring-rest-consume", R:180, rps:173.14, l:2320 },
{ Test:"spring-rest-consume", R:190, rps:185.14, l:872.45 },
{ Test:"spring-rest-consume", R:200, rps:189.06, l:3400 },
{ Test:"spring-rest-consume", R:210, rps:188.80, l:5440 },
{ Test:"spring-rest-consume", R:220, rps:191.06, l:6000 },
{ Test:"spring-rest-consume", R:230, rps:188.95, l:8120 },
{ Test:"spring-rest-consume", R:240, rps:189.84, l:9280 },
{ Test:"spring-rest-consume", R:250, rps:189.00, l:10100 },

    ];


    const plot = Plot.plot({
      marginTop:    30, marginRight:  30, marginBottom: 40, marginLeft:   50,

      color: {legend: true, domain: ["spring-rest-consume"], range: ["orange", "darkblue", "darkgreen"]},
      grid: true,
      x: {label: "RPS (x1000)"},
      y: {label: "Latency"},
      inset: 10,

      marks: [
        Plot.ruleY([0]),
        Plot.lineY(mydata, {x: "rps", y: "l", stroke: "Test"}),
        Plot.dot(mydata, {x: "rps", y: "l", r: 2, fill: "#000", stroke: "Test"}),
      ]
    })

    const div = document.querySelector("#myplot");
    div.append(plot);

</script></body></body></html>