<!DOCTYPE html>
<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6"></script>
<html><body>
<!--style>
body { display: flex; flex-wrap: wrap; justify-content: space-evenly; }
div { flex-basis: 45%; margin-top: 20px; }
</style-->
<div id="myplot"></div>
<div id="bar"></div>
<script type=module>
    var mydata = [
{ Test:"nginx", R:10000, rps:9865.44, l:12.1 },
{ Test:"nginx", R:15000, rps:14884.67, l:80.06 },
{ Test:"nginx", R:20000, rps:19960.35, l:145.92 },
{ Test:"nginx", R:25000, rps:24805.84, l:34.05 },
{ Test:"nginx", R:30000, rps:29768.20, l:659.97 },
{ Test:"nginx", R:35000, rps:34509.22, l:1310 },
{ Test:"nginx", R:40000, rps:39436.04, l:717.31 },
{ Test:"nginx", R:45000, rps:43882.59, l:4800 },
{ Test:"nginx", R:50000, rps:49211.48, l:1760 },
{ Test:"nginx", R:55000, rps:53913.68, l:1940 },
{ Test:"nginx", R:60000, rps:57142.35, l:3650 },
{ Test:"nginx", R:65000, rps:52957.62, l:8850 },
{ Test:"nginx", R:70000, rps:54256.31, l:10760 },
{ Test:"nginx", R:75000, rps:53530.02, l:13370 },
{ Test:"nginx", R:80000, rps:51919.70, l:13930 },
{ Test:"nginx", R:85000, rps:54983.78, l:15320 },
{ Test:"nginx", R:90000, rps:52136.41, l:17650 },
{ Test:"nginx", R:95000, rps:52112.16, l:19090 },
{ Test:"nginx", R:100000, rps:57196.32, l:18350 },
{ Test:"nginx", R:105000, rps:53512.05, l:20820 },
{ Test:"nginx", R:110000, rps:55389.37, l:20140 },
{ Test:"nginx", R:115000, rps:58385.48, l:20020 },
{ Test:"nginx", R:120000, rps:47811.74, l:24670 },
{ Test:"nginx", R:125000, rps:51950.85, l:24020 },
{ Test:"nginx", R:130000, rps:76835.21, l:17140 },
{ Test:"nginx", R:135000, rps:86482.91, l:15010 },
{ Test:"nginx", R:140000, rps:85690.01, l:18430 },
{ Test:"nginx", R:145000, rps:89357.42, l:15970 },
    ];


    const plot = Plot.plot({
      marginTop:    30, marginRight:  30, marginBottom: 40, marginLeft:   50,

      color: {legend: true, domain: ["nginx"], range: ["orange", "darkblue", "darkgreen"]},
      grid: true,
      x: {label: "RPS (x1000)"},
      y: {label: "Latency"},
      inset: 10,

      marks: [
        Plot.ruleY([0]),
        Plot.lineY(mydata, {x: "rps", y: "l", stroke: "Test"}),
        Plot.dot(mydata, {x: "rps", y: "l", r: 2, fill: "#000", stroke: "Test"}),
      ]
    })

    const div = document.querySelector("#myplot");
    div.append(plot);

</script></body></body></html>